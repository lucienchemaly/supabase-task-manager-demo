<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients -->
    <linearGradient id="userGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#E3F2FD;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#BBDEFB;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="frontendGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#E8F5E8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#C8E6C9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="backendGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FFF3E0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FFE0B2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="databaseGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F3E5F5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#E1BEE7;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="securityGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FFEBEE;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FFCDD2;stop-opacity:1" />
    </linearGradient>
    
    <!-- Drop shadow filter -->
    <filter id="dropshadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="3" flood-color="#00000020"/>
    </filter>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#1976D2" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#FAFAFA"/>
  
  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="28" font-weight="bold" fill="#212121">
    Supabase Task Manager - High Level Architecture
  </text>
  
  <!-- User Layer -->
  <rect x="50" y="80" width="1100" height="80" rx="15" ry="15" 
        fill="url(#userGradient)" stroke="#1976D2" stroke-width="2" 
        filter="url(#dropshadow)"/>
  <text x="600" y="110" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="18" font-weight="bold" fill="#212121">
    ğŸ‘¤ USER BROWSER
  </text>
  <text x="600" y="135" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" fill="#424242" font-style="italic">
    React Components â€¢ Forms â€¢ State Management â€¢ Navigation
  </text>
  
  <!-- Frontend Layer -->
  <rect x="50" y="200" width="1100" height="120" rx="15" ry="15" 
        fill="url(#frontendGradient)" stroke="#388E3C" stroke-width="2" 
        filter="url(#dropshadow)"/>
  <text x="600" y="230" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="18" font-weight="bold" fill="#212121">
    âš›ï¸ NEXT.JS 14 APPLICATION (Vercel)
  </text>
  
  <!-- Frontend Components -->
  <rect x="80" y="250" width="140" height="50" rx="8" ry="8" 
        fill="#FFFFFF" stroke="#388E3C" stroke-width="1"/>
  <text x="150" y="270" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="11" font-weight="bold" fill="#212121">ğŸ  Home</text>
  <text x="150" y="285" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="10" fill="#424242">(/)</text>
  
  <rect x="250" y="250" width="140" height="50" rx="8" ry="8" 
        fill="#FFFFFF" stroke="#388E3C" stroke-width="1"/>
  <text x="320" y="270" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="11" font-weight="bold" fill="#212121">ğŸ” Auth</text>
  <text x="320" y="285" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="9" fill="#424242">(/auth/signin)</text>
  
  <rect x="420" y="250" width="140" height="50" rx="8" ry="8" 
        fill="#FFFFFF" stroke="#388E3C" stroke-width="1"/>
  <text x="490" y="270" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="11" font-weight="bold" fill="#212121">ğŸ“Š Dashboard</text>
  <text x="490" y="285" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="10" fill="#424242">(/dashboard)</text>
  
  <rect x="590" y="250" width="140" height="50" rx="8" ry="8" 
        fill="#FFFFFF" stroke="#388E3C" stroke-width="1"/>
  <text x="660" y="270" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="11" font-weight="bold" fill="#212121">ğŸ“š Client</text>
  <text x="660" y="285" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="9" fill="#424242">(lib/supabase.ts)</text>
  
  <rect x="760" y="250" width="180" height="50" rx="8" ry="8" 
        fill="#FFFFFF" stroke="#388E3C" stroke-width="1"/>
  <text x="850" y="270" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="11" font-weight="bold" fill="#212121">âš™ï¸ Tech Stack</text>
  <text x="850" y="285" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="9" fill="#424242">TypeScript â€¢ Tailwind CSS</text>
  
  <!-- Backend Layer -->
  <rect x="50" y="360" width="1100" height="120" rx="15" ry="15" 
        fill="url(#backendGradient)" stroke="#F57C00" stroke-width="2" 
        filter="url(#dropshadow)"/>
  <text x="600" y="390" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="18" font-weight="bold" fill="#212121">
    ğŸ”§ SUPABASE BACKEND SERVICES
  </text>
  
  <!-- Backend Services -->
  <rect x="200" y="410" width="200" height="50" rx="8" ry="8" 
        fill="#FFEBEE" stroke="#D32F2F" stroke-width="1"/>
  <text x="300" y="430" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#212121">ğŸ”‘ Authentication</text>
  <text x="300" y="445" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="10" fill="#424242">signInWithPassword â€¢ signUp â€¢ signOut</text>
  
  <rect x="430" y="410" width="200" height="50" rx="8" ry="8" 
        fill="#FFF3E0" stroke="#F57C00" stroke-width="1"/>
  <text x="530" y="430" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#212121">ğŸŒ REST API</text>
  <text x="530" y="445" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="10" fill="#424242">SELECT â€¢ INSERT â€¢ UPDATE â€¢ DELETE</text>
  
  <rect x="660" y="410" width="200" height="50" rx="8" ry="8" 
        fill="#F3E5F5" stroke="#7B1FA2" stroke-width="1"/>
  <text x="760" y="430" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#212121">ğŸ“Š Session Management</text>
  <text x="760" y="445" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="10" fill="#424242">getSession â€¢ getUser â€¢ JWT</text>
  
  <!-- Database Layer -->
  <rect x="50" y="520" width="1100" height="120" rx="15" ry="15" 
        fill="url(#databaseGradient)" stroke="#7B1FA2" stroke-width="2" 
        filter="url(#dropshadow)"/>
  <text x="600" y="550" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="18" font-weight="bold" fill="#212121">
    ğŸ—„ï¸ POSTGRESQL DATABASE
  </text>
  
  <!-- Database Tables -->
  <rect x="250" y="570" width="180" height="50" rx="8" ry="8" 
        fill="#FFEBEE" stroke="#D32F2F" stroke-width="1"/>
  <text x="340" y="590" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#212121">ğŸ‘¥ auth.users</text>
  <text x="340" y="605" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="10" fill="#424242">id â€¢ email â€¢ password</text>
  
  <rect x="460" y="570" width="180" height="50" rx="8" ry="8" 
        fill="#F3E5F5" stroke="#7B1FA2" stroke-width="1"/>
  <text x="550" y="590" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#212121">ğŸ“ public.tasks</text>
  <text x="550" y="605" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="10" fill="#424242">title â€¢ description â€¢ completed</text>
  
  <rect x="670" y="570" width="180" height="50" rx="8" ry="8" 
        fill="#FFEBEE" stroke="#D32F2F" stroke-width="1"/>
  <text x="760" y="590" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" font-weight="bold" fill="#212121">ğŸ›¡ï¸ RLS Policies</text>
  <text x="760" y="605" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="10" fill="#424242">User-scoped data access</text>
  
  <!-- Security Layer -->
  <rect x="50" y="680" width="1100" height="80" rx="15" ry="15" 
        fill="url(#securityGradient)" stroke="#D32F2F" stroke-width="2" 
        filter="url(#dropshadow)"/>
  <text x="600" y="710" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="18" font-weight="bold" fill="#212121">
    ğŸ”’ SECURITY LAYERS
  </text>
  <text x="600" y="735" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="12" fill="#424242">
    HTTPS/TLS â€¢ JWT Authentication â€¢ Row Level Security â€¢ Form Validation
  </text>
  
  <!-- Data Flow Arrows -->
  <!-- User to Frontend -->
  <line x1="600" y1="160" x2="600" y2="190" stroke="#1976D2" stroke-width="3" 
        marker-end="url(#arrowhead)"/>
  <text x="620" y="180" font-family="Arial, sans-serif" font-size="11" fill="#1976D2">
    HTTP/HTTPS
  </text>
  
  <!-- Frontend to Backend -->
  <line x1="600" y1="320" x2="600" y2="350" stroke="#1976D2" stroke-width="3" 
        marker-end="url(#arrowhead)"/>
  <text x="620" y="340" font-family="Arial, sans-serif" font-size="11" fill="#1976D2">
    @supabase/supabase-js
  </text>
  
  <!-- Backend to Database -->
  <line x1="600" y1="480" x2="600" y2="510" stroke="#1976D2" stroke-width="3" 
        marker-end="url(#arrowhead)"/>
  <text x="620" y="500" font-family="Arial, sans-serif" font-size="11" fill="#1976D2">
    SQL Queries
  </text>
  
  <!-- Database to Security -->
  <line x1="600" y1="640" x2="600" y2="670" stroke="#1976D2" stroke-width="3" 
        marker-end="url(#arrowhead)"/>
  <text x="620" y="660" font-family="Arial, sans-serif" font-size="11" fill="#1976D2">
    Security Enforcement
  </text>
  
  <!-- Side Labels -->
  <text x="20" y="125" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="11" font-weight="bold" fill="#424242" transform="rotate(-90, 20, 125)">
    USER INTERACTION
  </text>
  <text x="20" y="260" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="11" font-weight="bold" fill="#424242" transform="rotate(-90, 20, 260)">
    PRESENTATION LAYER
  </text>
  <text x="20" y="420" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="11" font-weight="bold" fill="#424242" transform="rotate(-90, 20, 420)">
    BUSINESS LOGIC
  </text>
  <text x="20" y="580" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="11" font-weight="bold" fill="#424242" transform="rotate(-90, 20, 580)">
    DATA PERSISTENCE
  </text>
  <text x="20" y="720" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="11" font-weight="bold" fill="#424242" transform="rotate(-90, 20, 720)">
    SECURITY
  </text>
  
  <!-- Key Features Box -->
  <rect x="1000" y="100" width="180" height="120" rx="10" ry="10" 
        fill="#F5F5F5" stroke="#424242" stroke-width="1" 
        filter="url(#dropshadow)"/>
  <text x="1090" y="125" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="14" font-weight="bold" fill="#212121">
    ğŸš€ KEY FEATURES
  </text>
  <text x="1010" y="145" font-family="Arial, sans-serif" font-size="11" fill="#424242">
    â€¢ Email Authentication
  </text>
  <text x="1010" y="160" font-family="Arial, sans-serif" font-size="11" fill="#424242">
    â€¢ CRUD Operations
  </text>
  <text x="1010" y="175" font-family="Arial, sans-serif" font-size="11" fill="#424242">
    â€¢ Manual Data Fetching
  </text>
  <text x="1010" y="190" font-family="Arial, sans-serif" font-size="11" fill="#424242">
    â€¢ Row Level Security
  </text>
  <text x="1010" y="205" font-family="Arial, sans-serif" font-size="11" fill="#424242">
    â€¢ Session Management
  </text>
  
  <!-- Data Flow Legend -->
  <rect x="1000" y="240" width="180" height="80" rx="10" ry="10" 
        fill="#F5F5F5" stroke="#424242" stroke-width="1" 
        filter="url(#dropshadow)"/>
  <text x="1090" y="265" text-anchor="middle" font-family="Arial, sans-serif" 
        font-size="14" font-weight="bold" fill="#212121">
    ğŸ“Š DATA FLOW
  </text>
  <line x1="1010" y1="280" x2="1040" y2="280" stroke="#1976D2" stroke-width="2" 
        marker-end="url(#arrowhead)"/>
  <text x="1050" y="285" font-family="Arial, sans-serif" font-size="10" fill="#424242">
    Request Flow
  </text>
  <line x1="1010" y1="295" x2="1040" y2="295" stroke="#4CAF50" stroke-width="2"/>
  <text x="1050" y="300" font-family="Arial, sans-serif" font-size="10" fill="#424242">
    Response Flow
  </text>
  
</svg>
